(this.webpackJsonpoauth=this.webpackJsonpoauth||[]).push([[0],{25:function(e,t,a){e.exports={AuthButton:"AuthButton_AuthButton__3zXsg"}},29:function(e,t,a){e.exports=a(58)},34:function(e,t,a){},57:function(e,t,a){},58:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),c=a(24),r=a.n(c),i=(a(34),a(25)),s=a.n(i),l=a(1),m=7629557,u="page",d="http://localhost:3000/",h="",p="token",f="5.124",g=function(){var e="https://oauth.vk.com/authorize?client_id=".concat(m,"&display=").concat(u,"&redirect_uri=").concat(d,"&scope=").concat(h,"&response_type=").concat(p,"&v=").concat(f);document.location.href=e},_=function(){if(null!==window.localStorage.getItem("tokenVk")&&null!==window.localStorage.getItem("userId"))return o.a.createElement(l.a,{to:"/profile"});var e=window.location.href,t=e.match(new RegExp("access_token=([^&=]+)")),a=e.match(new RegExp("user_id=([^&=]+)"));return t?(window.localStorage.setItem("tokenVk",t[1]),window.localStorage.setItem("userId",a[1]),o.a.createElement(l.a,{to:"/profile"})):o.a.createElement("a",{className:s.a.AuthButton,onClick:g},"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f")},w=a(28),k=a(9),E=a.n(k),v=a(27),I=a.n(v),S=a(8),N=function(){localStorage.removeItem("userId"),localStorage.removeItem("tokenVk")},x=function(){window.history.pushState({},{},"/profile");var e=Object(n.useState)({}),t=Object(w.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)((function(){I.a.get("https://api.vk.com/method/users.get",{params:{user_ids:window.localStorage.getItem("userId"),v:5.124,access_token:window.localStorage.getItem("tokenVk")}}).then((function(e){return e.data})).then((function(e){c(e.response[0])})).catch((function(e){console.log(e)}))}),[]),o.a.createElement("div",{className:E.a.InfoWrapper},o.a.createElement("div",{className:E.a.Data},o.a.createElement("div",{className:E.a.Name},a.first_name),o.a.createElement("div",{className:E.a.SecondName},a.last_name)),o.a.createElement(S.b,{to:"/",className:E.a.Exit,onClick:N},"\u0412\u044b\u0445\u043e\u0434"))};a(57);var b=function(){return o.a.createElement("div",{className:"OAuth"},o.a.createElement(l.b,{path:"/",component:_,exact:!0}),o.a.createElement(l.b,{path:"/profile",component:x,exact:!0}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(S.a,{basename:"/VkOAuth"},o.a.createElement(b,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},9:function(e,t,a){e.exports={InfoWrapper:"Page_InfoWrapper__2dSXk",Data:"Page_Data__2V2HX",Name:"Page_Name__30Gs9",SecondName:"Page_SecondName__2fkPY",Exit:"Page_Exit__3DEkr"}}},[[29,1,2]]]);
//# sourceMappingURL=main.e6c6761a.chunk.js.map